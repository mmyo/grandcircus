@model Deck
@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

@{
    ViewData["Title"] = "Home Page";
}
<h1 class="display-4">Lab 28</h1>

<div class="container">
    <div>
        @if (@HttpContextAccessor.HttpContext.Session.GetString("deckId") == null)
        {
            <p>No deck found. Click button below for a new deck of cards.</p>
        }
    </div>
    <div>
        <button type="submit" class="btn btn-success" onclick="location.href='@Url.Action("NewDeck", "Home")'">Get New Deck</button>
    </div>
    <div>
        @if (@HttpContextAccessor.HttpContext.Session.GetString("deckId") != null)
        {
            <b>Deck Id:</b> @HttpContextAccessor.HttpContext.Session.GetString("deckId")
            <b>Cards Remaining: </b> @HttpContextAccessor.HttpContext.Session.GetInt32("remaining")
        }
    </div>

    <div>
        @if (ViewData["drawnCardsList"] != null)
        {
            @foreach (var card in ViewData["drawnCardsList"] as IList<Card>)
            {
                <img src="@card.Image" width="50">
            }
        }
    </div>

    <div>
        <button type="submit" class="btn btn-primary" onclick="location.href='@Url.Action("DrawCards", "Home")'">Draw 5 Cards</button>
    </div>
</div>









